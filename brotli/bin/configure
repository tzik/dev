#!/bin/bash
set -ex
cd "$(dirname "$0")/.."
base_dir="${PWD}"
out_dir="${base_dir}/out"

mkdir -p build
cd build

export CC="clang"
export CXX="clang++"

declare -a opts
opts+=("-GNinja")
opts+=("-DCMAKE_INSTALL_PREFIX=${out_dir}")
opts+=("-DBUILD_SHARED_LIBS=ON")
cmake "${opts[@]}" ../src
